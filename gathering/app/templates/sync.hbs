<div class='w-full'>
  <div class='mx-auto md:container'>
    {{outlet}}
      <div class='w-full flex border-2 border-black'>
        <label for='url' class='border-r-2 border-black p-2'>
          DB
        </label>
        <Input
          id='url'
          @type='url'
          @value={{or this.destination (get this.sortedDatabases '0')}}
          {{on 'change' this.handleDestinationInput}}
          class='destination flex-1 p-2'
        />
        <div class='input-group-button'>
          <button
            type='button'
            onclick={{perform this.sync}}
            class='sync bg-black text-white p-2'
          >
            {{#if this.syncTask.isRunning}}
              <Loading />
            {{else}}
              Sync
            {{/if}}
          </button>
        </div>
      </div>

      <ul class='databases pl-10 pt-2'>
        {{#each this.sortedDatabases as |database|}}
          <li class='database flex p-2 gap-2'>
            <button
              class='border-2 border-black p-2'
              type='button'
              {{on 'click' (fn this.setDestination database)}}
            >
              {{database}}
            </button>
            <button
              class='border-2 border-red-500 p-2'
              type='button'
              {{on 'click' (fn this.removeDestination database)}}
              data-test-remove
            >Delete</button>
          </li>
        {{/each}}
      </ul>

      {{#if this.result}}
        <table>
          <thead>
            <th></th>
            <th>
              read
            </th>
            <th>
              written
            </th>
            <th>
              write failures
            </th>
            <th>
              errors
            </th>
          </thead>
          <tbody>
            <tr class='push'>
              <td>
                push
              </td>
              <td class='read'>
                {{this.result.push.docs_read}}
              </td>
              <td class='written'>
                {{this.result.push.docs_written}}
              </td>
              <td class='write-failures'>
                {{this.result.push.doc_write_failures}}
              </td>
              <td data-test-errors>
                {{this.result.push.errors}}
              </td>
            </tr>
            <tr class='pull'>
              <td>
                pull
              </td>
              <td class='read'>
                {{this.result.pull.docs_read}}
              </td>
              <td class='written'>
                {{this.result.pull.docs_written}}
              </td>
              <td class='write-failures'>
                {{this.result.pull.doc_write_failures}}
              </td>
              <td data-test-errors>
                {{this.result.pull.errors}}
              </td>
            </tr>
          </tbody>
        </table>
      {{else if this.error}}
        Error:
        <code>
          {{this.error}}
        </code>
      {{/if}}

      Version:
      {{this.version}}
    </div>
</div>