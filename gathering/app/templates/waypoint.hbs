<div class='w-full px-2'>
  <div class='mx-auto md:container'>

    <LabeledInput
      @label='region'
      @errors={{this.model.schemas.fieldErrors.region}}
      data-test-region-container
      as |utilities|
    >
      <select
        id={{utilities.label}}
        {{on 'change' this.setRegion}}
        class='{{utilities.inputClasses}}'
      >
        <option></option>
        <RegionOptions
          @regions={{this.sortedRegions}}
          @selected={{this.model.region}}
        />
      </select>
    </LabeledInput>

    <LabeledInput
      @label='name'
      @errors={{this.model.schemas.fieldErrors.name}}
      data-test-name-container
      as |utilities|
    >
      <Input
        id={{utilities.label}}
        @value={{this.model.name}}
        class='{{utilities.inputClasses}}'
      />
    </LabeledInput>

    <section class='flex gap-4'>

      <LabeledInput
        class='flex-1'
        @label='author'
        @errors={{this.model.schemas.fieldErrors.author}}
        data-test-author-container
        as |utilities|
      >
        <Input
          id={{utilities.label}}
          @value={{this.model.author}}
          class='{{utilities.inputClasses}}'
        />
      </LabeledInput>

      <LabeledInput
        class='flex-1'
        @label='call'
        @errors={{this.model.schemas.fieldErrors.call}}
        data-test-call-container
        as |utilities|
      >
        <Input
          id={{utilities.label}}
          @value={{this.model.call}}
          class='{{utilities.inputClasses}}'
        />
      </LabeledInput>

    </section>

    <LabeledInput
      @label='excerpt'
      @errors={{this.model.schemas.fieldErrors.excerpt}}
      data-test-excerpt-container
      as |utilities|
    >
      <Textarea
        id={{utilities.label}}
        @value={{this.model.excerpt}}
        class='{{utilities.inputClasses}}'
      />
    </LabeledInput>

    <section class='flex gap-4'>

      <LabeledInput
        class='flex-auto'
        @label='page dimensions'
        @errors={{this.model.schemas.fieldErrors.dimensions}}
        data-test-dimensions-container
        as |utilities|
      >
        <Input
          id={{utilities.label}}
          @value={{this.model.dimensions}}
          class='{{utilities.inputClasses}}'
        />
      </LabeledInput>

      <LabeledInput
        class='flex-1'
        @label='page number'
        @errors={{this.model.schemas.fieldErrors.page}}
        data-test-page-container
        as |utilities|
      >
        <Input
          id={{utilities.label}}
          @value={{this.model.page}}
          class='{{utilities.inputClasses}}'
        />
      </LabeledInput>

    </section>

    <LabeledInput
      @label='outlines'
      @errors={{this.model.schemas.fieldErrors.outline}}
      data-test-outline-container
      as |utilities|
    >
      <Input
        id={{utilities.label}}
        @value={{this.model.outline}}
        class='{{utilities.inputClasses}}'
      />
    </LabeledInput>

    <section class='flex gap-4'>

      <LabeledInput
        class='flex-auto'
        @label='credit'
        data-test-credit-container
        as |utilities|>
        <Input
          id={{utilities.label}}
          class={{utilities.inputClasses}}
          @value={{this.model.credit}}
        />
      </LabeledInput>

      {{#if (feature-flag 'destination-status')}}
        <LabeledInput class='flex-1' @label='status' as |utilities|>
          <fieldset
            class='flex gap-4 {{utilities.inputClasses}}'
            data-test-status-fieldset
          >
            <RadioButton
              @value='available'
              @groupValue={{this.model.status}}
              @class='available'
              @changed={{fn (mut this.model.status) 'available'}}
            >
              ✓
            </RadioButton>
            <RadioButton
              @value='unavailable'
              @groupValue={{this.model.status}}
              @class='unavailable'
              @changed={{fn (mut this.model.status) 'unavailable'}}
            >
              ✘
            </RadioButton>
            <RadioButton
              @value='unknown'
              @groupValue={{this.model.status}}
              @class='unknown'
              @changed={{fn (mut this.model.status) 'unknown'}}
            >
              ?
            </RadioButton>
          </fieldset>
        </LabeledInput>
      {{/if}}

    </section>

    <section class='my-2 flex justify-between gap-2'>
      <button
        class='w-full bg-green-500 p-2'
        type='button'
        {{on 'click' (fn this.save this.model)}}
        data-test-save-button
      >
        Save
      </button>
      <button
        class='w-full bg-red-500 p-2'
        type='button'
        {{on 'click' (fn this.delete this.model)}}
        data-test-delete-button
      >
        Delete
      </button>
      <button
        class='w-full bg-yellow-500 p-2'
        type='button'
        {{on 'click' (fn this.cancel this.model)}}
        data-test-cancel-button
      >
        Cancel
      </button>
    </section>

  </div>
</div>